

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Ruihan">
  <meta name="keywords" content="">
  
    <meta name="description" content="Stanford CS106L C&#x2F;C++ï¼šSTL">
<meta property="og:type" content="article">
<meta property="og:title" content="CS106L-02">
<meta property="og:url" content="https://ruihan11.github.io/2025/11/17/CS106L-02/index.html">
<meta property="og:site_name" content="Ruihan&#39;s Blog">
<meta property="og:description" content="Stanford CS106L C&#x2F;C++ï¼šSTL">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ruihan11.github.io/images/cs106l-09.png">
<meta property="og:image" content="https://ruihan11.github.io/images/cs106l-07.png">
<meta property="og:image" content="https://ruihan11.github.io/images/cs106l-08.png">
<meta property="og:image" content="https://ruihan11.github.io/images/cs106l-06-iter-claw.png">
<meta property="og:image" content="https://ruihan11.github.io/images/cs106l-06-iter-hierarchy.png">
<meta property="og:image" content="https://ruihan11.github.io/images/cs106l-10.png">
<meta property="article:published_time" content="2025-11-17T21:00:02.000Z">
<meta property="article:modified_time" content="2025-11-30T19:27:10.166Z">
<meta property="article:author" content="Ruihan">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://ruihan11.github.io/images/cs106l-09.png">
  
  
  
  <title>CS106L-02 - Ruihan&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"ruihan11.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":50,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Ruihan</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Catagory</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="CS106L-02"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-11-17 16:00" pubdate>
          2025å¹´11æœˆ17æ—¥ ä¸‹åˆ
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          8.5k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          71 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">CS106L-02</h1>
            
            
              <div class="markdown-body">
                
                <p><img src="/../images/cs106l-09.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<h2 id="ç¬¬5è®²ï¼šå®¹å™¨ï¼ˆContainersï¼‰ğŸ“¦"><a href="#ç¬¬5è®²ï¼šå®¹å™¨ï¼ˆContainersï¼‰ğŸ“¦" class="headerlink" title="ç¬¬5è®²ï¼šå®¹å™¨ï¼ˆContainersï¼‰ğŸ“¦"></a>ç¬¬5è®²ï¼šå®¹å™¨ï¼ˆContainersï¼‰ğŸ“¦</h2><p>å®¹å™¨æ˜¯ C++ ä¸­ç»„ç»‡æ•°æ®çš„æ ¸å¿ƒå·¥å…·ï¼Œæä¾›ç±»å‹å®‰å…¨ã€é«˜æ€§èƒ½çš„é€šç”¨æ•°æ®ç»“æ„ã€‚</p>
<p><img src="/../images/cs106l-07.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="å®¹å™¨æ˜¯ä»€ä¹ˆ"><a href="#å®¹å™¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="å®¹å™¨æ˜¯ä»€ä¹ˆ"></a>å®¹å™¨æ˜¯ä»€ä¹ˆ</h3><p>å®¹å™¨æ˜¯å°è£…äº†<strong>æ•°æ®ç»„ç»‡æ–¹å¼</strong>çš„æ¨¡æ¿ç±»ï¼Œåˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p>
<ul>
<li><strong>åºåˆ—å®¹å™¨</strong>ï¼šçº¿æ€§æ’åˆ—å…ƒç´ ï¼ˆå¦‚æ•°ç»„ã€åŒç«¯é˜Ÿåˆ—ï¼‰  </li>
<li><strong>å…³è”å®¹å™¨</strong>ï¼šæŒ‰é”®ç»„ç»‡å…ƒç´ ï¼ˆå¦‚å­—å…¸ã€é›†åˆï¼‰</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;;               <span class="hljs-comment">// åŠ¨æ€æ•°ç»„</span><br>std::deque&lt;<span class="hljs-type">double</span>&gt; q;                          <span class="hljs-comment">// åŒç«¯é˜Ÿåˆ—</span><br>std::map&lt;std::string, <span class="hljs-type">int</span>&gt; m = &#123;&#123;<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-number">25</span>&#125;&#125;; <span class="hljs-comment">// æœ‰åºæ˜ å°„</span><br>std::unordered_map&lt;std::string, <span class="hljs-type">int</span>&gt; um = m;  <span class="hljs-comment">// æ— åºå“ˆå¸Œæ˜ å°„</span><br></code></pre></td></tr></table></figure>
<div class="note note-success">
            <p>ğŸ“Œ æ‰€æœ‰ STL å®¹å™¨éƒ½æ˜¯<strong>æ¨¡æ¿</strong>ï¼ˆæ³›å‹ï¼‰ï¼Œæ”¯æŒä»»æ„ç±»å‹ï¼ˆåªè¦æ»¡è¶³æ¥å£è¦æ±‚ï¼‰ã€‚</p> 
          </div>
<hr>
<h3 id="åºåˆ—å®¹å™¨ï¼šçº¿æ€§ç»“æ„"><a href="#åºåˆ—å®¹å™¨ï¼šçº¿æ€§ç»“æ„" class="headerlink" title="åºåˆ—å®¹å™¨ï¼šçº¿æ€§ç»“æ„"></a>åºåˆ—å®¹å™¨ï¼šçº¿æ€§ç»“æ„</h3><h4 id="std-vector-â€”â€”-åŠ¨æ€æ•°ç»„"><a href="#std-vector-â€”â€”-åŠ¨æ€æ•°ç»„" class="headerlink" title="std::vector&lt;T&gt; â€”â€” åŠ¨æ€æ•°ç»„"></a><code>std::vector&lt;T&gt;</code> â€”â€” åŠ¨æ€æ•°ç»„</h4><ul>
<li><strong>è¿ç»­å†…å­˜</strong>ï¼Œç¼“å­˜å‹å¥½  </li>
<li><strong>å°¾éƒ¨æ“ä½œé«˜æ•ˆ</strong>ï¼š<code>push_back</code> &#x2F; <code>pop_back</code>ï¼ˆæ‘Šè¿˜ <em>O</em>(1)ï¼‰  </li>
<li><strong>éšæœºè®¿é—®</strong>ï¼š<code>v[i]</code> æˆ– <code>v.at(i)</code>ï¼ˆåè€…è¶Šç•ŒæŠ›å¼‚å¸¸ï¼‰</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">v.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">4</span>);      <span class="hljs-comment">// âœ…</span><br>v[<span class="hljs-number">0</span>] = <span class="hljs-number">10</span>;           <span class="hljs-comment">// âœ… å¿«ï¼Œä½†ä¸æ£€æŸ¥è¾¹ç•Œï¼</span><br>v.<span class="hljs-built_in">at</span>(<span class="hljs-number">100</span>);           <span class="hljs-comment">// âŒ æŠ› std::out_of_range</span><br></code></pre></td></tr></table></figure>

<div class="note note-success">
            <p>âš ï¸ <code>vector</code> <strong>æ²¡æœ‰ <code>push_front</code></strong> â€”â€” å¤´éƒ¨æ’å…¥éœ€æ•´ä½“æ¬ç§»ï¼Œææ…¢ã€‚</p> 
          </div>

<h4 id="std-deque-â€”â€”-åŒç«¯é˜Ÿåˆ—ï¼ˆè¯»ä½œ-â€œdeckâ€ï¼‰"><a href="#std-deque-â€”â€”-åŒç«¯é˜Ÿåˆ—ï¼ˆè¯»ä½œ-â€œdeckâ€ï¼‰" class="headerlink" title="std::deque&lt;T&gt; â€”â€” åŒç«¯é˜Ÿåˆ—ï¼ˆè¯»ä½œ â€œdeckâ€ï¼‰"></a><code>std::deque&lt;T&gt;</code> â€”â€” åŒç«¯é˜Ÿåˆ—ï¼ˆè¯»ä½œ â€œdeckâ€ï¼‰</h4><ul>
<li><strong>åˆ†æ®µè¿ç»­å†…å­˜</strong>ï¼ˆâ€œæ•°ç»„çš„æ•°ç»„â€ï¼‰  </li>
<li>æ”¯æŒ<strong>é¦–å°¾é«˜æ•ˆæ“ä½œ</strong>ï¼š<code>push_front</code> &#x2F; <code>push_back</code> &#x2F; <code>pop_front</code> &#x2F; <code>pop_back</code>  </li>
<li>ä»æ”¯æŒ <em>O</em>(1) éšæœºè®¿é—®ï¼ˆç•¥æ…¢äº <code>vector</code>ï¼‰</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">deque&lt;<span class="hljs-type">double</span>&gt; prices;<br>prices.<span class="hljs-built_in">push_front</span>(<span class="hljs-number">100.5</span>);  <span class="hljs-comment">// âœ… é«˜æ•ˆ</span><br>prices.<span class="hljs-built_in">pop_back</span>();          <span class="hljs-comment">// âœ… é«˜æ•ˆ</span><br></code></pre></td></tr></table></figure>
<div class="note note-success">
            <p>âœ… é€‚ç”¨åœºæ™¯ï¼šæ»‘åŠ¨çª—å£ã€ä»»åŠ¡é˜Ÿåˆ—ç­‰éœ€åŒç«¯æ“ä½œçš„åœºæ™¯ã€‚</p> 
          </div>

<hr>
<h3 id="å…³è”å®¹å™¨ï¼šæŒ‰é”®ç´¢å¼•"><a href="#å…³è”å®¹å™¨ï¼šæŒ‰é”®ç´¢å¼•" class="headerlink" title="å…³è”å®¹å™¨ï¼šæŒ‰é”®ç´¢å¼•"></a>å…³è”å®¹å™¨ï¼šæŒ‰é”®ç´¢å¼•</h3><h4 id="std-map-std-set-â€”â€”-æœ‰åºå®¹å™¨"><a href="#std-map-std-set-â€”â€”-æœ‰åºå®¹å™¨" class="headerlink" title="std::map&lt;K, V&gt; &amp; std::set&lt;K&gt; â€”â€” æœ‰åºå®¹å™¨"></a><code>std::map&lt;K, V&gt;</code> &amp; <code>std::set&lt;K&gt;</code> â€”â€” æœ‰åºå®¹å™¨</h4><ul>
<li>åº•å±‚ï¼š<strong>çº¢é»‘æ ‘</strong>ï¼ˆè‡ªå¹³è¡¡ BSTï¼‰  </li>
<li><strong>æŒ‰é”®è‡ªåŠ¨æ’åº</strong>ï¼ˆä¸­åºéå†æœ‰åºï¼‰  </li>
<li>æŸ¥æ‰¾&#x2F;æ’å…¥&#x2F;åˆ é™¤ï¼š<em>O</em>(log <em>n</em>)  </li>
<li>è¦æ±‚é”®æ”¯æŒ <code>operator&lt;</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">map[<span class="hljs-string">&quot;Alex&quot;</span>];  <span class="hljs-comment">// è‹¥ &quot;Alex&quot; ä¸å­˜åœ¨ â†’ è‡ªåŠ¨æ’å…¥ &#123;&quot;Alex&quot;, V&#123;&#125;&#125;ï¼</span><br><span class="hljs-type">int</span> cnt = m.<span class="hljs-built_in">count</span>(<span class="hljs-string">&quot;Alex&quot;</span>);      <span class="hljs-comment">// å®‰å…¨æŸ¥é”®ï¼š0 æˆ– 1</span><br><span class="hljs-comment">// C++20: m.contains(&quot;Alex&quot;)</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>std::set&lt;T&gt;</code> â‰ˆ <code>map&lt;T, void&gt;</code>ï¼šä»…å­˜å”¯ä¸€é”®ï¼Œæœ‰åº  </li>
<li>è¿­ä»£éå†è¿”å› <code>std::pair&lt;const K, V&gt;</code>ï¼š</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; [key, val] : m) &#123;<br>    std::cout &lt;&lt; key &lt;&lt; <span class="hljs-string">&quot;: &quot;</span> &lt;&lt; val &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="std-unordered-map-std-unordered-set-â€”â€”-æ— åºå“ˆå¸Œå®¹å™¨"><a href="#std-unordered-map-std-unordered-set-â€”â€”-æ— åºå“ˆå¸Œå®¹å™¨" class="headerlink" title="std::unordered_map&lt;K, V&gt; &amp; std::unordered_set&lt;K&gt; â€”â€” æ— åºå“ˆå¸Œå®¹å™¨"></a><code>std::unordered_map&lt;K, V&gt;</code> &amp; <code>std::unordered_set&lt;K&gt;</code> â€”â€” æ— åºå“ˆå¸Œå®¹å™¨</h4><ul>
<li>åº•å±‚ï¼š<strong>å“ˆå¸Œè¡¨ + é“¾åœ°å€æ³•</strong>  </li>
<li><strong>å¹³å‡ <em>O</em>(1)</strong> æŸ¥æ‰¾&#x2F;æ’å…¥&#x2F;åˆ é™¤  </li>
<li>è¦æ±‚é”®å¯å“ˆå¸Œï¼ˆ<code>std::hash&lt;K&gt;</code>ï¼‰ä¸”å¯åˆ¤ç­‰ï¼ˆ<code>operator==</code>ï¼‰</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::unordered_map&lt;std::string, <span class="hljs-type">int</span>&gt; um;<br>um[<span class="hljs-string">&quot;Sean&quot;</span>] = <span class="hljs-number">35</span>;  <span class="hljs-comment">// hash(&quot;Sean&quot;) % bucket_count â†’ å®šä½æ¡¶</span><br></code></pre></td></tr></table></figure>

<h5 id="å“ˆå¸Œå…³é”®æ¦‚å¿µï¼š"><a href="#å“ˆå¸Œå…³é”®æ¦‚å¿µï¼š" class="headerlink" title="å“ˆå¸Œå…³é”®æ¦‚å¿µï¼š"></a>å“ˆå¸Œå…³é”®æ¦‚å¿µï¼š</h5><table>
<thead>
<tr>
<th>æœ¯è¯­</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><strong>å“ˆå¸Œå‡½æ•°</strong></td>
<td><code>hash(key) â†’ size_t</code>ï¼Œåº”â€œæ‰“æ•£â€è¾“å…¥ã€æŠ—å†²çª</td>
</tr>
<tr>
<td><strong>è´Ÿè½½å› å­</strong></td>
<td>&#x3D; å…ƒç´ æ•° &#x2F; æ¡¶æ•°ï¼›é»˜è®¤ &gt;1.0 æ—¶è§¦å‘ <strong>rehash</strong></td>
</tr>
<tr>
<td><strong>å“ˆå¸Œå†²çª</strong></td>
<td>ä¸åŒé”®æ˜ å°„åˆ°åŒæ¡¶ â†’ é“¾å¼çº¿æ€§æŸ¥æ‰¾ï¼ˆéœ€åˆ¤ç­‰ï¼‰</td>
</tr>
</tbody></table>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">um.<span class="hljs-built_in">max_load_factor</span>(<span class="hljs-number">2.0</span>);  <span class="hljs-comment">// è°ƒé«˜é˜ˆå€¼ï¼ˆé€šå¸¸æ— éœ€æ‰‹åŠ¨è°ƒï¼‰</span><br></code></pre></td></tr></table></figure>
<div class="note note-success">
            <p>âœ… å†…ç½®æ”¯æŒï¼š<code>int</code>ã€<code>double</code>ã€<code>std::string</code><br>âŒ ä¸æ”¯æŒï¼š<code>std::ifstream</code> ç­‰æ— é»˜è®¤å“ˆå¸Œçš„ç±»å‹</p> 
          </div>

<hr>
<h3 id="å®¹å™¨é€‰å‹ï¼šç©ºé—´-vs-æ—¶é—´"><a href="#å®¹å™¨é€‰å‹ï¼šç©ºé—´-vs-æ—¶é—´" class="headerlink" title="å®¹å™¨é€‰å‹ï¼šç©ºé—´ vs æ—¶é—´"></a>å®¹å™¨é€‰å‹ï¼šç©ºé—´ vs æ—¶é—´</h3><table>
<thead>
<tr>
<th>å®¹å™¨</th>
<th>éšæœºè®¿é—®</th>
<th>æŸ¥æ‰¾</th>
<th>æ’å…¥</th>
<th>åˆ é™¤</th>
<th>æœ‰åº</th>
<th>å…¸å‹åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><code>vector</code></td>
<td>âœ… <em>O</em>(1)</td>
<td><em>O</em>(<em>n</em>)</td>
<td>å°¾ <em>O</em>(1)</td>
<td>å°¾ <em>O</em>(1)</td>
<td>âŒ</td>
<td>é¡ºåºæ•°æ®ã€é¢‘ç¹éå†</td>
</tr>
<tr>
<td><code>deque</code></td>
<td>âœ… <em>O</em>(1)</td>
<td><em>O</em>(<em>n</em>)</td>
<td>é¦–å°¾ <em>O</em>(1)</td>
<td>é¦–å°¾ <em>O</em>(1)</td>
<td>âŒ</td>
<td>åŒç«¯é˜Ÿåˆ—ã€æ»‘åŠ¨çª—å£</td>
</tr>
<tr>
<td><code>map</code>&#x2F;<code>set</code></td>
<td>âŒ</td>
<td><em>O</em>(log <em>n</em>)</td>
<td><em>O</em>(log <em>n</em>)</td>
<td><em>O</em>(log <em>n</em>)</td>
<td>âœ…</td>
<td>éœ€æœ‰åºã€èŒƒå›´æŸ¥è¯¢</td>
</tr>
<tr>
<td><code>unordered_map</code>&#x2F;<code>set</code></td>
<td>âŒ</td>
<td><em>O</em>(1) avg</td>
<td><em>O</em>(1) avg</td>
<td><em>O</em>(1) avg</td>
<td>âŒ</td>
<td>é«˜é¢‘æŸ¥æ‰¾ã€æ— åºå¯æ¥å—</td>
</tr>
</tbody></table>
<div class="note note-success">
            <p>ğŸ”‘ ç»éªŒæ³•åˆ™ï¼š  </p> <ul> <li>é»˜è®¤ä¼˜å…ˆ <code>unordered_map</code>ï¼ˆå¿«ï¼ï¼‰  </li> <li>éœ€<strong>æœ‰åºéå†</strong>æˆ– <code>lower_bound</code> â†’ ç”¨ <code>map</code>  </li> <li>é”®<strong>æ— å¯æ¯”æ€§ä½†å¯å“ˆå¸Œ</strong> â†’ åªèƒ½ç”¨ <code>unordered_map</code></li> </ul> 
          </div>

<div class="note note-success">
            <p>ğŸ’¡ Stroustrup åè¨€ï¼š<strong>â€œSpace is time.â€</strong><br>â€”â€” <code>unordered_map</code> ç”¨æ›´å¤šå†…å­˜æ¢æ›´å¿«æŸ¥æ‰¾ï¼›<code>vector</code> ç”¨ç´§å‡‘å†…å­˜æ¢æ›´æ…¢æŸ¥æ‰¾ã€‚</p> 
          </div>
<hr>
<h3 id="å…¶ä»–å¸¸ç”¨å®¹å™¨ï¼ˆæ‹“å±•ï¼‰"><a href="#å…¶ä»–å¸¸ç”¨å®¹å™¨ï¼ˆæ‹“å±•ï¼‰" class="headerlink" title="å…¶ä»–å¸¸ç”¨å®¹å™¨ï¼ˆæ‹“å±•ï¼‰"></a>å…¶ä»–å¸¸ç”¨å®¹å™¨ï¼ˆæ‹“å±•ï¼‰</h3><table>
<thead>
<tr>
<th>å®¹å™¨</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>std::array&lt;T, N&gt;</code></td>
<td>ç¼–è¯‘æœŸå®šé•¿æ•°ç»„ï¼Œæ— åŠ¨æ€å¼€é”€</td>
</tr>
<tr>
<td><code>std::list&lt;T&gt;</code></td>
<td>åŒå‘é“¾è¡¨ï¼Œä»»æ„ä½ç½® <em>O</em>(1) æ’åˆ ï¼ˆç¼“å­˜ä¸å‹å¥½ï¼‰</td>
</tr>
<tr>
<td><code>std::multimap</code> &#x2F; <code>multiset</code></td>
<td>å…è®¸é‡å¤é”®ï¼ˆæœ‰åºï¼‰</td>
</tr>
<tr>
<td><code>std::unordered_multimap</code> &#x2F; <code>..._set</code></td>
<td>å…è®¸é‡å¤é”®ï¼ˆå“ˆå¸Œï¼‰</td>
</tr>
</tbody></table>
<hr>
<p><img src="/../images/cs106l-08.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<h2 id="ç¬¬6è®²ï¼šè¿­ä»£å™¨ä¸æŒ‡é’ˆ"><a href="#ç¬¬6è®²ï¼šè¿­ä»£å™¨ä¸æŒ‡é’ˆ" class="headerlink" title="ç¬¬6è®²ï¼šè¿­ä»£å™¨ä¸æŒ‡é’ˆ"></a>ç¬¬6è®²ï¼šè¿­ä»£å™¨ä¸æŒ‡é’ˆ</h2><h3 id="å®¹å™¨éå†çš„ç»Ÿä¸€æ¥å£ï¼šè¿­ä»£å™¨"><a href="#å®¹å™¨éå†çš„ç»Ÿä¸€æ¥å£ï¼šè¿­ä»£å™¨" class="headerlink" title="å®¹å™¨éå†çš„ç»Ÿä¸€æ¥å£ï¼šè¿­ä»£å™¨"></a>å®¹å™¨éå†çš„ç»Ÿä¸€æ¥å£ï¼šè¿­ä»£å™¨</h3><p><strong>for-each å¾ªç¯çš„åº•å±‚å®ç°åŸç†ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; elem : container) &#123;<br>    std::cout &lt;&lt; elem &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-comment">// â‡“ å®é™…å±•å¼€ä¸º â‡“</span><br><span class="hljs-keyword">auto</span> b = container.<span class="hljs-built_in">begin</span>();<br><span class="hljs-keyword">auto</span> e = container.<span class="hljs-built_in">end</span>();<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = b; it != e; ++it) &#123;<br>    <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; elem = *it;<br>    std::cout &lt;&lt; elem &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>æ ¸å¿ƒæŠ½è±¡â€”â€”â€œæŠ“å¨ƒå¨ƒæœºâ€æ¨¡å‹ï¼š</strong></p>
<ul>
<li><strong>å®¹å™¨</strong> æä¾›èµ·æ­¢ä½ç½®ï¼š<code>begin()</code>ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ã€<code>end()</code>ï¼ˆ<strong>å°¾åä½ç½®</strong>ï¼Œæ°¸ä¸æŒ‡å‘æœ‰æ•ˆå…ƒç´ ï¼‰</li>
<li><strong>è¿­ä»£å™¨</strong> æ”¯æŒå››ç§åŸºæœ¬æ“ä½œï¼š<ul>
<li><code>*it</code>ï¼šè§£å¼•ç”¨ï¼Œè·å–å…ƒç´ ï¼ˆè‹¥ <code>it == end()</code> åˆ™æœªå®šä¹‰è¡Œä¸ºï¼‰</li>
<li><code>++it</code>ï¼šå‰ç§»ä¸€æ­¥ï¼ˆ<strong>æ¨èå‰ç¼€</strong>ï¼Œé¿å…æ‹·è´å¼€é”€ï¼‰</li>
<li><code>it == jt</code>ï¼šç›¸ç­‰æ€§æ¯”è¾ƒï¼ˆç”¨äºç»ˆæ­¢åˆ¤æ–­ï¼‰</li>
<li><code>it = container.begin()</code>ï¼šåˆå§‹åŒ–</li>
</ul>
</li>
</ul>
<p><img src="/../images/cs106l-06-iter-claw.png" srcset="/img/loading.gif" lazyload></p>
<div class="note note-success">
            <p>ğŸ’¡ <strong>ä¸ºä»€ä¹ˆç”¨ <code>++it</code> è€Œä¸æ˜¯ <code>it++</code>ï¼Ÿ</strong><br>åç½®è‡ªå¢ <code>it++</code> ä¼šæ„é€ ä¸€ä¸ªæ—§å€¼å‰¯æœ¬ï¼Œå¯¹å¤æ‚è¿­ä»£å™¨å¯¹è±¡ï¼ˆé <code>int</code>ï¼‰æœ‰é¢å¤–å¼€é”€ï¼›å‰ç¼€ <code>++it</code> ä»…è¿”å›å¼•ç”¨ï¼Œ<strong>æ°¸ä¸æ›´æ…¢ï¼Œæœ‰æ—¶æ›´å¿«</strong>ï¼ˆBjarne è¯­ï¼‰ã€‚</p> 
          </div>

<h3 id="è¿­ä»£å™¨åˆ†ç±»ä½“ç³»ï¼ˆæŒ‰èƒ½åŠ›é€’å¢ï¼‰"><a href="#è¿­ä»£å™¨åˆ†ç±»ä½“ç³»ï¼ˆæŒ‰èƒ½åŠ›é€’å¢ï¼‰" class="headerlink" title="è¿­ä»£å™¨åˆ†ç±»ä½“ç³»ï¼ˆæŒ‰èƒ½åŠ›é€’å¢ï¼‰"></a>è¿­ä»£å™¨åˆ†ç±»ä½“ç³»ï¼ˆæŒ‰èƒ½åŠ›é€’å¢ï¼‰</h3><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>èƒ½åŠ›</th>
<th>å…¸å‹å®¹å™¨</th>
<th>ç®—æ³•å…¼å®¹æ€§ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Input</strong></td>
<td>å•å‘åªè¯» (<code>*it</code>, <code>++it</code>)</td>
<td><code>istream_iterator</code></td>
<td><code>std::accumulate</code></td>
</tr>
<tr>
<td><strong>Output</strong></td>
<td>å•å‘åªå†™ (<code>*it = val</code>, <code>++it</code>)</td>
<td><code>ostream_iterator</code></td>
<td><code>std::copy</code></td>
</tr>
<tr>
<td><strong>Forward</strong></td>
<td>å¤šæ¬¡å•å‘éå†</td>
<td><code>unordered_map/set</code></td>
<td><code>std::find</code></td>
</tr>
<tr>
<td><strong>Bidirectional</strong></td>
<td>åŒå‘ç§»åŠ¨ (<code>++it</code>, <code>--it</code>)</td>
<td><code>map</code>, <code>set</code>, <code>list</code></td>
<td><code>std::reverse</code></td>
</tr>
<tr>
<td><strong>Random Access</strong></td>
<td>éšæœºè·³è½¬ (<code>it + n</code>, <code>it[n]</code>, <code>&lt;</code>)</td>
<td><code>vector</code>, <code>deque</code></td>
<td><code>std::sort</code>, <code>std::binary_search</code></td>
</tr>
</tbody></table>
<p><img src="/../images/cs106l-06-iter-hierarchy.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>å…³é”®é™åˆ¶ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; vec&#123;<span class="hljs-number">1</span>,<span class="hljs-number">5</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;;<br>std::<span class="hljs-built_in">sort</span>(vec.<span class="hljs-built_in">begin</span>(), vec.<span class="hljs-built_in">end</span>());  <span class="hljs-comment">// âœ… OK: random-access iterators</span><br><br>std::set&lt;<span class="hljs-type">int</span>&gt; s&#123;<span class="hljs-number">1</span>,<span class="hljs-number">5</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;;<br>std::<span class="hljs-built_in">sort</span>(s.<span class="hljs-built_in">begin</span>(), s.<span class="hljs-built_in">end</span>());      <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯: set::iterator is bidirectional only</span><br></code></pre></td></tr></table></figure>

<hr>
<h2 id="ç¬¬7è®²ï¼šç±»ä¸ç»§æ‰¿"><a href="#ç¬¬7è®²ï¼šç±»ä¸ç»§æ‰¿" class="headerlink" title="ç¬¬7è®²ï¼šç±»ä¸ç»§æ‰¿"></a>ç¬¬7è®²ï¼šç±»ä¸ç»§æ‰¿</h2><h3 id="ç±»ï¼šå°è£…æ•°æ®ä¸è¡Œä¸º"><a href="#ç±»ï¼šå°è£…æ•°æ®ä¸è¡Œä¸º" class="headerlink" title="ç±»ï¼šå°è£…æ•°æ®ä¸è¡Œä¸º"></a>ç±»ï¼šå°è£…æ•°æ®ä¸è¡Œä¸º</h3><p><strong>åŠ¨æœºï¼šå¼¥è¡¥ <code>struct</code> ç¼ºé™·ï¼ˆæ— è®¿é—®æ§åˆ¶ï¼‰</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">StanfordID</span> &#123;  <span class="hljs-comment">// æ‰€æœ‰æˆå‘˜é»˜è®¤ publicï¼Œå¤–éƒ¨å¯ä»»æ„ç¯¡æ”¹</span><br>    std::string name;<br>    <span class="hljs-type">int</span> idNumber;<br>&#125;;<br>s.idNumber = <span class="hljs-number">-999</span>;  <span class="hljs-comment">// ğŸ’€ å±é™©ï¼</span><br></code></pre></td></tr></table></figure>

<p><strong>ç±»å¼•å…¥è®¿é—®æ§åˆ¶ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StanfordID</span> &#123;<br><span class="hljs-keyword">private</span>:  <span class="hljs-comment">// å¤–éƒ¨ä¸å¯è®¿é—®</span><br>    std::string name;<br>    <span class="hljs-type">int</span> idNumber;<br><span class="hljs-keyword">public</span>:   <span class="hljs-comment">// æ¥å£æš´éœ²ç»™ç”¨æˆ·</span><br>    <span class="hljs-built_in">StanfordID</span>(std::string n, <span class="hljs-type">int</span> id);  <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-function">std::string <span class="hljs-title">getName</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;        <span class="hljs-comment">// getter</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setID</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span></span>;                 <span class="hljs-comment">// setterï¼ˆå¯åŠ æ ¡éªŒï¼‰</span><br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="å…³é”®æˆå‘˜å‡½æ•°"><a href="#å…³é”®æˆå‘˜å‡½æ•°" class="headerlink" title="å…³é”®æˆå‘˜å‡½æ•°"></a>å…³é”®æˆå‘˜å‡½æ•°</h3><table>
<thead>
<tr>
<th>æˆå‘˜</th>
<th>ä½œç”¨</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><strong>æ„é€ å‡½æ•°</strong></td>
<td>åˆå§‹åŒ–å¯¹è±¡çŠ¶æ€</td>
<td><code>StanfordID s&#123;&quot;Alice&quot;, 123&#125;;</code></td>
</tr>
<tr>
<td><strong>åˆ—è¡¨åˆå§‹åŒ–</strong>ï¼ˆC++11ï¼‰</td>
<td>æ¨èå†™æ³•ï¼Œç›´æ¥åˆå§‹åŒ–æˆå‘˜</td>
<td><code>StanfordID::StanfordID(string n, int id) : name&#123;n&#125;, idNumber&#123;id&#125; &#123;&#125;</code></td>
</tr>
<tr>
<td><strong>this æŒ‡é’ˆ</strong></td>
<td>è§£å†³å½¢å‚ä¸æˆå‘˜åŒåå†²çª</td>
<td><code>this-&gt;name = name;</code></td>
</tr>
<tr>
<td><strong>ææ„å‡½æ•°</strong></td>
<td>å¯¹è±¡é”€æ¯å‰æ¸…ç†èµ„æºï¼ˆå¦‚ <code>delete[]</code>ï¼‰</td>
<td><code>~StanfordID() &#123; delete[] buffer; &#125;</code></td>
</tr>
</tbody></table>
<h3 id="ç»§æ‰¿ï¼šä»£ç å¤ç”¨ä¸å¤šæ€"><a href="#ç»§æ‰¿ï¼šä»£ç å¤ç”¨ä¸å¤šæ€" class="headerlink" title="ç»§æ‰¿ï¼šä»£ç å¤ç”¨ä¸å¤šæ€"></a>ç»§æ‰¿ï¼šä»£ç å¤ç”¨ä¸å¤šæ€</h3><p><strong>ç›®æ ‡ï¼šå»ºæ¨¡â€œis-aâ€å…³ç³»ï¼ˆCircle <strong>is a</strong> Shapeï¼‰</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span> &#123; <span class="hljs-comment">//base class</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">double</span> <span class="hljs-title">area</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;  <span class="hljs-comment">// çº¯è™šå‡½æ•° â†’ æŠ½è±¡åŸºç±»</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> : <span class="hljs-keyword">public</span> Shape &#123; <span class="hljs-comment">// inheritance</span><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> radius;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Circle</span>(<span class="hljs-type">double</span> r) : radius&#123;r&#125; &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">area</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-number">3.14</span> * radius * radius; &#125;  <span class="hljs-comment">// é‡å†™</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> : <span class="hljs-keyword">public</span> Shape &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> w, h;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Rectangle</span>(<span class="hljs-type">double</span> w, <span class="hljs-type">double</span> h) : w&#123;w&#125;, h&#123;h&#125; &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">area</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123; <span class="hljs-keyword">return</span> w * h; &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>

<p><strong>åŠ¨æ€å¤šæ€ä½¿ç”¨ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;Shape*&gt; shapes;<br>shapes.<span class="hljs-built_in">push_back</span>(<span class="hljs-keyword">new</span> Circle&#123;<span class="hljs-number">2.0</span>&#125;);<br>shapes.<span class="hljs-built_in">push_back</span>(<span class="hljs-keyword">new</span> Rectangle&#123;<span class="hljs-number">3.0</span>, <span class="hljs-number">4.0</span>&#125;);<br><br><span class="hljs-keyword">for</span> (Shape* s : shapes) &#123;<br>    std::cout &lt;&lt; s-&gt;<span class="hljs-built_in">area</span>() &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;  <span class="hljs-comment">// è‡ªåŠ¨è°ƒç”¨ Circle::area æˆ– Rectangle::area</span><br>&#125;<br></code></pre></td></tr></table></figure>

<div class="note note-success">
            <p>âš ï¸ <strong>é’»çŸ³é—®é¢˜ä¸è™šç»§æ‰¿ï¼š</strong><br>å¤šé‡ç»§æ‰¿å¯èƒ½å¯¼è‡´åŸºç±»é‡å¤å®ä¾‹åŒ–ï¼ˆå¦‚ <code>D</code> å«ä¸¤ä»½ <code>A</code>ï¼‰ã€‚<br><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<code>class B : virtual public A</code> + <code>class C : virtual public A</code> â†’ <code>D</code> ä»…æŒæœ‰ä¸€ä»½ <code>A</code>ã€‚</p> 
          </div>

<p><img src="/../images/cs106l-10.png" srcset="/img/loading.gif" lazyload></p>
<details close>
<summary>Inheritance without virtual</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;A() @ &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">hello</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Hello from A @ &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> : <span class="hljs-keyword">public</span> A &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">B</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;B() @ &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> : <span class="hljs-keyword">public</span> A &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">C</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;C() @ &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">D</span> : <span class="hljs-keyword">public</span> B, <span class="hljs-keyword">public</span> C &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">D</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;D() @ &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;=== Diamond Problem (no virtual) ===\n&quot;</span>;<br>    D d;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;\nCalling explicitly:\n&quot;</span>;<br>    d.B::<span class="hljs-built_in">hello</span>();   <span class="hljs-comment">// ä½¿ç”¨ B è·¯å¾„çš„ A</span><br>    d.C::<span class="hljs-built_in">hello</span>();   <span class="hljs-comment">// ä½¿ç”¨ C è·¯å¾„çš„ A</span><br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;\nAddress check:\n&quot;</span>;<br>    A* a_via_b = <span class="hljs-built_in">static_cast</span>&lt;B*&gt;(&amp;d);<br>    A* a_via_c = <span class="hljs-built_in">static_cast</span>&lt;C*&gt;(&amp;d);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;A via B: &quot;</span> &lt;&lt; a_via_b &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;A via C: &quot;</span> &lt;&lt; a_via_c &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Same? &quot;</span> &lt;&lt; std::boolalpha &lt;&lt; (a_via_b == a_via_c) &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br><br>    <span class="hljs-comment">// d.hello();  // âŒ ç¼–è¯‘é”™è¯¯ï¼šambiguous</span><br>&#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs csharp">=== <span class="hljs-function">Diamond <span class="hljs-title">Problem</span> (<span class="hljs-params">no <span class="hljs-keyword">virtual</span></span>)</span> ===<br>A() @ <span class="hljs-number">0x7ffff605c38e</span>   <span class="hljs-comment">// â† æ„é€  B æ—¶ï¼Œå…ˆæ„é€ å…¶åŸºç±» Aï¼ˆç¬¬ä¸€ä»½ A å­å¯¹è±¡ï¼‰</span><br>B() @ <span class="hljs-number">0x7ffff605c38e</span>   <span class="hljs-comment">// â† B çš„èµ·å§‹åœ°å€ = å…¶ A å­å¯¹è±¡åœ°å€ï¼ˆæ— è™šç»§æ‰¿æ—¶åŸºç±»å‰ç½®ï¼‰</span><br>A() @ <span class="hljs-number">0x7ffff605c38f</span>   <span class="hljs-comment">// â† æ„é€  C æ—¶ï¼Œå†æ„é€ å…¶åŸºç±» Aï¼ˆç¬¬äºŒä»½ A å­å¯¹è±¡ï¼Œåœ°å€ä¸åŒï¼ï¼‰</span><br>C() @ <span class="hljs-number">0x7ffff605c38f</span>   <span class="hljs-comment">// â† C çš„èµ·å§‹åœ°å€ = å…¶ A å­å¯¹è±¡åœ°å€</span><br>D() @ <span class="hljs-number">0x7ffff605c38e</span>   <span class="hljs-comment">// â† D çš„èµ·å§‹åœ°å€ = é¦–ä¸ªåŸºç±» B çš„èµ·å§‹åœ°å€ï¼ˆå³ç¬¬ä¸€ä»½ Aï¼‰</span><br><br>Calling explicitly:<br>Hello <span class="hljs-keyword">from</span> A @ <span class="hljs-number">0x7ffff605c38e</span>   <span class="hljs-comment">// â† d.B::hello() â†’ è°ƒç”¨ B ä¸­åµŒå¥—çš„ A çš„æ–¹æ³•</span><br>Hello <span class="hljs-keyword">from</span> A @ <span class="hljs-number">0x7ffff605c38f</span>   <span class="hljs-comment">// â† d.C::hello() â†’ è°ƒç”¨ C ä¸­åµŒå¥—çš„ A çš„æ–¹æ³•</span><br><br>Address check:<br>A via B: <span class="hljs-number">0x7ffff605c38e</span>   <span class="hljs-comment">// â† static_cast&lt;B*&gt;(&amp;d) â†’ A*</span><br>A via C: <span class="hljs-number">0x7ffff605c38f</span>   <span class="hljs-comment">// â† static_cast&lt;C*&gt;(&amp;d) â†’ A*</span><br>Same? <span class="hljs-literal">false</span>               <span class="hljs-comment">// â† ä¸¤ä¸ª A å®ä¾‹ â‰  åŒä¸€å¯¹è±¡</span><br></code></pre></td></tr></table></figure>
</details>

<details close>
<summary>Inheritance with virtual</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;A() @ &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">hello</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Hello from A @ &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-comment">// âœ… å…³é”®ä¿®å¤ï¼švirtual public A</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> : <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> A &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">B</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;B() @ &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-comment">// âœ… å…³é”®ä¿®å¤ï¼švirtual public A</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> : <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> A &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">C</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;C() @ &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">D</span> : <span class="hljs-keyword">public</span> B, <span class="hljs-keyword">public</span> C &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">D</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;D() @ &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;=== Fixed Diamond (with virtual) ===\n&quot;</span>;<br>    D d;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;\nCalling:\n&quot;</span>;<br>    d.B::<span class="hljs-built_in">hello</span>();   <span class="hljs-comment">// æ˜ç¡®è·¯å¾„ï¼ˆå¯çœç•¥ï¼‰</span><br>    d.C::<span class="hljs-built_in">hello</span>();   <span class="hljs-comment">// æ˜ç¡®è·¯å¾„ï¼ˆå¯çœç•¥ï¼‰</span><br>    d.<span class="hljs-built_in">hello</span>();      <span class="hljs-comment">// âœ… ä¸å†äºŒä¹‰ï¼ç›´æ¥è°ƒç”¨å”¯ä¸€ A::hello()</span><br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;\nAddress check:\n&quot;</span>;<br>    A* a_via_b = <span class="hljs-built_in">static_cast</span>&lt;B*&gt;(&amp;d);<br>    A* a_via_c = <span class="hljs-built_in">static_cast</span>&lt;C*&gt;(&amp;d);<br>    A* a_direct = &amp;d;  <span class="hljs-comment">// D* â†’ A* éšå¼è½¬æ¢ä¹Ÿå…è®¸ï¼ˆå› å”¯ä¸€ A å­å¯¹è±¡ï¼‰</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;A via B:   &quot;</span> &lt;&lt; a_via_b   &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;A via C:   &quot;</span> &lt;&lt; a_via_c   &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;A direct:  &quot;</span> &lt;&lt; a_direct  &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;All same? &quot;</span> &lt;&lt; std::boolalpha<br>              &lt;&lt; (a_via_b == a_via_c &amp;&amp; a_via_c == a_direct) &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs dns">=== Fixed Diamond (with virtual) ===<br><span class="hljs-keyword">A</span>() @ <span class="hljs-number">0</span>x7ffd<span class="hljs-number">12345680</span>   â† åªæ„é€ ä¸€æ¬¡ï¼<br>B() @ <span class="hljs-number">0</span>x7ffd<span class="hljs-number">12345688</span><br>C() @ <span class="hljs-number">0</span>x7ffd<span class="hljs-number">12345690</span><br>D() @ <span class="hljs-number">0</span>x7ffd<span class="hljs-number">12345688</span><br><br>Calling:<br>Hello from <span class="hljs-keyword">A</span> @ <span class="hljs-number">0</span>x7ffd<span class="hljs-number">12345680</span><br>Hello from <span class="hljs-keyword">A</span> @ <span class="hljs-number">0</span>x7ffd<span class="hljs-number">12345680</span><br>Hello from <span class="hljs-keyword">A</span> @ <span class="hljs-number">0</span>x7ffd<span class="hljs-number">12345680</span>   â† åŒä¸€åœ°å€ï¼Œä¸‰è¿ï¼<br><br>Address check:<br><span class="hljs-keyword">A</span> via B:   <span class="hljs-number">0</span>x7ffd<span class="hljs-number">12345680</span><br><span class="hljs-keyword">A</span> via C:   <span class="hljs-number">0</span>x7ffd<span class="hljs-number">12345680</span><br><span class="hljs-keyword">A</span> direct:  <span class="hljs-number">0</span>x7ffd<span class="hljs-number">12345680</span><br>All same? true<br></code></pre></td></tr></table></figure>
</details>
---


                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/CS106L/" class="category-chain-item">CS106L</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>CS106L-02</div>
      <div>https://ruihan11.github.io/2025/11/17/CS106L-02/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Ruihan</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2025å¹´11æœˆ17æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/11/17/jp-travel/" title="Japan Trip 2025-2026">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Japan Trip 2025-2026</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/11/09/CS106L-01/" title="CS106L-01">
                        <span class="hidden-mobile">CS106L-01</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
